<div>
  <mat-card class="mat-card">
    <mat-card-title>Register</mat-card-title>

    <mat-card-content class="mat-card-content">
      <form [formGroup]="registerForm" (ngSubmit)="register()" class="form">

        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="First Name" formControlName="firstname">
          <mat-error
            *ngIf="this.registerForm.get('firstname')?.touched && this.registerForm.get('firstname')?.hasError('required')">
            First Name is required</mat-error>
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="Last Name" formControlName="lastname">
          <mat-error
            *ngIf="this.registerForm.get('lastname')?.touched && this.registerForm.get('lastname')?.hasError('required')">
            Last Name is required</mat-error>
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="email" matInput placeholder="Email" formControlName="email">
          <!-- Here we can display error messages/hints for the user, if one of the Validators adds an error to the email
           with the .touched check we only display the hints if the input was touched by the users -->
          <mat-error
            *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('required')">
            Email is required</mat-error>
          <mat-error
            *ngIf="this.registerForm.get('email')?.touched && this.registerForm.get('email')?.hasError('email')">
            Email must be a valid Email</mat-error>
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="password" matInput placeholder="Password" formControlName="password">
          <mat-error
            *ngIf="this.registerForm.get('password')?.touched && this.registerForm.get('password')?.hasError('required')">
            Password is required</mat-error>
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="password" matInput placeholder="Password Confirmation" formControlName="passwordConfirm">
          <mat-error
            *ngIf="this.registerForm.get('passwordConfirm')?.touched && this.registerForm.get('passwordConfirm')?.hasError('required')">
            Password Confirmation is required</mat-error>
        </mat-form-field>
        <mat-error
          *ngIf="this.registerForm.get('passwordConfirm')?.dirty && this.registerForm.hasError('passwordsNotMatching')">
          Passwords are not matching!</mat-error>

        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="Mobile" formControlName="mobile">
          <mat-error
            *ngIf="this.registerForm.get('mobile')?.touched && this.registerForm.get('mobile')?.hasError('required')">
            Mobile no is required</mat-error>
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="Referred By Code" formControlName="referredByCode">
        </mat-form-field>

        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="Street" formControlName="street">
          <mat-error
            *ngIf="this.registerForm.get('street')?.touched && this.registerForm.get('street')?.hasError('required')">
            Street is required</mat-error>
        </mat-form-field>
        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="City" formControlName="city">
          <mat-error
            *ngIf="this.registerForm.get('city')?.touched && this.registerForm.get('city')?.hasError('required')">
            City is required</mat-error>
        </mat-form-field>
        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="State" formControlName="state">
          <mat-error
            *ngIf="this.registerForm.get('state')?.touched && this.registerForm.get('state')?.hasError('required')">
            State is required</mat-error>
        </mat-form-field>
        <mat-form-field class="mat-form-field">
          <input type="text" matInput placeholder="Country" formControlName="country">
          <mat-error
            *ngIf="this.registerForm.get('country')?.touched && this.registerForm.get('country')?.hasError('required')">
            Country is required</mat-error>
        </mat-form-field>
        <mat-form-field class="mat-form-field">
          <input type="number" matInput placeholder="Pincode" formControlName="zipcode">
        </mat-form-field>
        <mat-error
          *ngIf="this.registerForm.get('zipcode')?.touched && (this.registerForm.hasError('zipcode') || this.registerForm.get('zipcode')?.hasError('required'))">
          Pincode is required and starts from 100000</mat-error>

        <div class="button">
          <a mat-button [routerLink]="['../login']">Go to Login</a>
          <button type="submit" mat-button [disabled]="!registerForm.valid" [routerLink]="['../login']"
            (click)="register()">Register</button>
        </div>

      </form>
    </mat-card-content>

  </mat-card>
</div>